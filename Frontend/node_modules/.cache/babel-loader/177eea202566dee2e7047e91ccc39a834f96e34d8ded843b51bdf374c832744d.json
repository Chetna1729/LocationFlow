{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cheta\\\\OneDrive\\\\Desktop\\\\Assignment\\\\Frontend\\\\src\\\\LocationSelector.js\",\n  _s = $RefreshSig$();\n// frontend/src/LocationSelector.js\nimport React, { useState, useEffect } from 'react';\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LocationSelector = ({\n  onLocationSelect\n}) => {\n  _s();\n  const [currentLocation, setCurrentLocation] = useState(null);\n  const [error, setError] = useState(null); // To handle errors like denied permission\n\n  // Requesting location on component mount and resetting current location\n  useEffect(() => {\n    setCurrentLocation(null); // Reset location on re-render\n    setError(null); // Reset error\n\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        // Successfully retrieved location\n        setCurrentLocation({\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        });\n      }, err => {\n        // Error fetching location\n        if (err.code === 1) {\n          setError('Location permission denied. Please enable location in your browser.');\n        } else {\n          setError('Error fetching location.');\n        }\n      });\n    } else {\n      setError('Geolocation is not supported by this browser.');\n    }\n  }, []); // Empty dependency array ensures it runs once on page load\n\n  // Handle pin drag to update location\n  const handlePinDragEnd = e => {\n    const newLocation = {\n      lat: e.latLng.lat(),\n      lng: e.latLng.lng()\n    };\n    setCurrentLocation(newLocation);\n    onLocationSelect(newLocation); // Callback to parent with new location\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Select a Location\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(LoadScript, {\n      googleMapsApiKey: \"AIzaSyAQkp2_fUKvvfKcv-iOHQC3qsP6dNEu3go\",\n      children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n        id: \"location-selector\",\n        mapContainerStyle: {\n          height: '400px',\n          width: '100%'\n        },\n        center: currentLocation || {\n          lat: 0,\n          lng: 0\n        },\n        zoom: 12,\n        children: currentLocation && /*#__PURE__*/_jsxDEV(Marker, {\n          position: currentLocation,\n          draggable: true,\n          onDragEnd: handlePinDragEnd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(LocationSelector, \"Tmij/2Qv5Nzx9BOprSa05jsYinI=\");\n_c = LocationSelector;\nexport default LocationSelector;\nvar _c;\n$RefreshReg$(_c, \"LocationSelector\");","map":{"version":3,"names":["React","useState","useEffect","GoogleMap","LoadScript","Marker","jsxDEV","_jsxDEV","LocationSelector","onLocationSelect","_s","currentLocation","setCurrentLocation","error","setError","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","err","code","handlePinDragEnd","e","newLocation","latLng","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","googleMapsApiKey","id","mapContainerStyle","height","width","center","zoom","draggable","onDragEnd","_c","$RefreshReg$"],"sources":["C:/Users/cheta/OneDrive/Desktop/Assignment/Frontend/src/LocationSelector.js"],"sourcesContent":["// frontend/src/LocationSelector.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\r\n\r\nconst LocationSelector = ({ onLocationSelect }) => {\r\n  const [currentLocation, setCurrentLocation] = useState(null);\r\n  const [error, setError] = useState(null); // To handle errors like denied permission\r\n\r\n  // Requesting location on component mount and resetting current location\r\n  useEffect(() => {\r\n    setCurrentLocation(null); // Reset location on re-render\r\n    setError(null); // Reset error\r\n\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          // Successfully retrieved location\r\n          setCurrentLocation({\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude,\r\n          });\r\n        },\r\n        (err) => {\r\n          // Error fetching location\r\n          if (err.code === 1) {\r\n            setError('Location permission denied. Please enable location in your browser.');\r\n          } else {\r\n            setError('Error fetching location.');\r\n          }\r\n        }\r\n      );\r\n    } else {\r\n      setError('Geolocation is not supported by this browser.');\r\n    }\r\n  }, []); // Empty dependency array ensures it runs once on page load\r\n\r\n  // Handle pin drag to update location\r\n  const handlePinDragEnd = (e) => {\r\n    const newLocation = {\r\n      lat: e.latLng.lat(),\r\n      lng: e.latLng.lng(),\r\n    };\r\n    setCurrentLocation(newLocation);\r\n    onLocationSelect(newLocation); // Callback to parent with new location\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Select a Location</h3>\r\n      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n      <LoadScript googleMapsApiKey=\"AIzaSyAQkp2_fUKvvfKcv-iOHQC3qsP6dNEu3go\">\r\n        <GoogleMap\r\n          id=\"location-selector\"\r\n          mapContainerStyle={{ height: '400px', width: '100%' }}\r\n          center={currentLocation || { lat: 0, lng: 0 }}\r\n          zoom={12}\r\n        >\r\n          {currentLocation && (\r\n            <Marker\r\n              position={currentLocation}\r\n              draggable\r\n              onDragEnd={handlePinDragEnd}\r\n            />\r\n          )}\r\n        </GoogleMap>\r\n      </LoadScript>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LocationSelector;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}